## RAG的工作流程

### 构建知识库检索

#### 1、LOAD：载入文件

`载入json、csv...文件`

#### 2、SPLIT：分割

`文件段落按照标点符号或者特殊的标记进行拆分，生成若干个词组或者句子`

- 单句太长，不易于大模型的理解
- 单句太短，不易于语义的连贯性
- chunk size，可能出现重叠的，使用langchain控制重叠区域

#### 3、EMBED：向量化

- 使用深度学习模型，将拆分后的句子根据语义在多维空间坐标系中进行表示，以便知识库的存储和检索
- 语义相近的两个句子，它们的向量相似度是比较大的，反之则比较小
- 检索的时候，判断知识库的句子是否为问题的答案

#### 4、STORE：向量化存储

`构建知识库的时候，将文本作为向量的形式进行存储，以便后面高效的检索`

### 检索和答案的生成

#### 1、RETRIEVE：检索

`当用户输入问题，首先利用模型，将问题进行向量化，然后在知识库中检索与之相似度较高的句子，将句子根据相关性进行相似度排序`

#### 2、PROMPT：生成

`检索出来的可能包含答案，将相关性最高的几个和原始问题，包装成一个输入给到大模型，生成问题的答案`

